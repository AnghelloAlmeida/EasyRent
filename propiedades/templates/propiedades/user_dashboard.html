{# propiedades/templates/propiedades/user_dashboard.html #}

{% extends 'propiedades/base.html' %}

{% load static %}

{% block title %}Mi Menú Principal - EasyRent{% endblock %}

{% block content %}
<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>¡Hola, {{ user.first_name|default:user.username }}!</h1> {# Muestra el nombre si existe, sino el username #}
        <p>Bienvenido a tu panel de control principal de EasyRent.</p>
    </div>

    <div class="dashboard-widgets">
        <div class="widget-card">
            <h2>Tus Propiedades</h2>
            <p>Actualmente tienes <strong>{{ num_mis_propiedades }}</strong> propiedades listadas.</p>
            <a href="{% url 'mis_propiedades_frontend' %}" class="btn-dashboard">Ver Mis Propiedades</a>
        </div>

        <div class="widget-card">
            <h2>Publica una Nueva</h2>
            <p>¿Tienes una nueva propiedad para alquilar o vender?</p>
            <a href="{% url 'agregar_propiedad_frontend' %}" class="btn-dashboard">Agregar Nueva Propiedad</a>
        </div>

        <div class="widget-card">
            <h2>Explora Propiedades</h2>
            <p>Encuentra tu próximo hogar o inversión.</p>
            <a href="{% url 'lista_propiedades_frontend' %}" class="btn-dashboard">Buscar Propiedades</a>
        </div>

        {# NUEVO WIDGET para Estadísticas de IA #}
        <div class="widget-card">
            <h2>Estadísticas de IA</h2>
            <p>Mira la distribución de calificaciones que nuestra IA ha generado para tus propiedades.</p>
            <a href="{% url 'ia_estadisticas' %}" class="btn-dashboard">Ver Estadísticas IA</a>
        </div>

        {# NUEVO WIDGET para el Estimador de Precios #}
        <div class="widget-card">
            <h2>Estimador de Precios</h2>
            <p>Obtén una estimación del precio de alquiler de una propiedad.</p>
            <a href="{% url 'estimar_precio_propiedad' %}" class="btn-dashboard">Estimar Precio</a>
        </div>

        {# El widget "Editar Perfil" ha sido movido a la barra de navegación, por lo que se elimina de aquí #}
    </div>
</div>
{% endblock content %}